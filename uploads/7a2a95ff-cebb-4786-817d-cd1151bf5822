# Brisanje kompajliranih fajlova i "pakovanje" Spring aplikacije u jar executable
# Pozicionirati se u folder gde se nalazi pom.xml i pozvati sledecu komandu
# (moguce i kroz IDE)
mvn clean package

# Kopiranje jar fajla u EC2 instancu
scp -i PUTANJA_DO_KLJUCA/IME_KLJUCA.pem PUTANJA_DO_JAR_FAJLA/spring-db-0.1.jar ec2-user@JAVNA_IPv4:/home/ec2-user

# Povezivanje na EC2 instancu
ssh -i PUTANJA_DO_KLJUCA/IME_KLJUCA.pem ec2-user@JAVNA_IPv4

# Pokretanje jar-a
java -jar putanja_do_jara

# Pokretanje jar-a i izmena application.properties kroz argumente
java -jar putanja_do_jara --server.port=8081

# Podesavanje kljuca
	# Linux
chmod 400 ime_kljuca.pem
	# Windows
icacls ime_kljuca.pem /reset
icacls ime_kljuca.pem /grant  "$($env:username):(r)"
icacls ime_kljuca.pem /inheritance:r

scp -i sv-71-2021KeyPair.pem target/CloudKlkv-0.0.1-SNAPSHOT.jar ec2-user@ec2-3-71-10-128.eu-central-1.compute.amazonaws.com:/home/ec2-user

ssh -i sv-71-2021KeyPair.pem ec2-user@ec2-3-71-10-128.eu-central-1.compute.amazonaws.com
